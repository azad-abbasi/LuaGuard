do
  local oldprint = print
  -- Store current print function as oldprint
  function print(s)
    --[[ Redefine print function, the usual print function can still be used
         through oldprint. The new one has only one argument.]]
    oldprint(s == "foo" and "bar" or s)
  end
end

====================================================================================
(CHUNK
	(do
		(CHUNK
			(LOCAL_ASSIGNMENT
				(NAME_LIST oldprint)
				(EXPR_LIST print)
			)
			(ASSIGNMENT
				(VAR_LIST print)
				(EXPR_LIST
					(FUNCTION
						(PARAM_LIST s)
						(CHUNK
							(VAR oldprint
								(CALL
									(or
										(and
											(== s foo)
											(bar)
										)
										(s)
									)
								)
							)
						)
					)
				)
			)
		)
	)
)
